import{_ as s,o as n,c as a,Q as l}from"./chunks/framework.65671825.js";const u=JSON.parse('{"title":"安装部署","description":"","frontmatter":{},"headers":[],"relativePath":"kb/mysql/install.md","filePath":"kb/mysql/install.md","lastUpdated":1697902617000}'),p={name:"kb/mysql/install.md"},o=l(`<h1 id="安装部署" tabindex="-1">安装部署 <a class="header-anchor" href="#安装部署" aria-label="Permalink to &quot;安装部署&quot;">​</a></h1><h2 id="rhel" tabindex="-1">RHEL <a class="header-anchor" href="#rhel" aria-label="Permalink to &quot;RHEL&quot;">​</a></h2><h3 id="在线安装" tabindex="-1">在线安装 <a class="header-anchor" href="#在线安装" aria-label="Permalink to &quot;在线安装&quot;">​</a></h3><p>下载地址</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#</span></span>
<span class="line"><span style="color:#6A737D;"># 官方镜像</span></span>
<span class="line"><span style="color:#6A737D;">#</span></span>
<span class="line"><span style="color:#6A737D;"># EL9</span></span>
<span class="line"><span style="color:#B392F0;">wget</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">https://repo.mysql.com//mysql80-community-release-el9-3.noarch.rpm</span></span>
<span class="line"><span style="color:#B392F0;">yum</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-y</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql80-community-release-el9-3.noarch.rpm</span></span>
<span class="line"><span style="color:#6A737D;"># EL8</span></span>
<span class="line"><span style="color:#B392F0;">wget</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">https://repo.mysql.com//mysql80-community-release-el8-7.noarch.rpm</span></span>
<span class="line"><span style="color:#B392F0;">yum</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-y</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql80-community-release-el8-7.noarch.rpm</span></span>
<span class="line"><span style="color:#6A737D;"># EL7</span></span>
<span class="line"><span style="color:#B392F0;">wget</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">https://repo.mysql.com//mysql80-community-release-el7-9.noarch.rpm</span></span>
<span class="line"><span style="color:#B392F0;">yum</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-y</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql80-community-release-el7-9.noarch.rpm</span></span>
<span class="line"><span style="color:#6A737D;">#</span></span>
<span class="line"><span style="color:#6A737D;"># 网易镜像</span></span>
<span class="line"><span style="color:#6A737D;">#</span></span>
<span class="line"><span style="color:#6A737D;"># EL9</span></span>
<span class="line"><span style="color:#B392F0;">wget</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">https://mirrors.163.com/mysql/mysql80-community-release-el9.rpm</span></span>
<span class="line"><span style="color:#B392F0;">rpm</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-ivh</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql80-community-release-el9.rpm</span></span>
<span class="line"><span style="color:#6A737D;"># EL8</span></span>
<span class="line"><span style="color:#B392F0;">wget</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">https://mirrors.163.com/mysql/mysql80-community-release-el8.rpm</span></span>
<span class="line"><span style="color:#B392F0;">rpm</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-ivh</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql80-community-release-el8.rpm</span></span>
<span class="line"><span style="color:#6A737D;"># EL7</span></span>
<span class="line"><span style="color:#B392F0;">wget</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">https://mirrors.163.com/mysql/mysql80-community-release-el7.rpm</span></span>
<span class="line"><span style="color:#B392F0;">rpm</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-ivh</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql80-community-release-el7.rpm</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#</span></span>
<span class="line"><span style="color:#6A737D;"># 官方镜像</span></span>
<span class="line"><span style="color:#6A737D;">#</span></span>
<span class="line"><span style="color:#6A737D;"># EL9</span></span>
<span class="line"><span style="color:#6F42C1;">wget</span><span style="color:#24292E;"> </span><span style="color:#032F62;">https://repo.mysql.com//mysql80-community-release-el9-3.noarch.rpm</span></span>
<span class="line"><span style="color:#6F42C1;">yum</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-y</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql80-community-release-el9-3.noarch.rpm</span></span>
<span class="line"><span style="color:#6A737D;"># EL8</span></span>
<span class="line"><span style="color:#6F42C1;">wget</span><span style="color:#24292E;"> </span><span style="color:#032F62;">https://repo.mysql.com//mysql80-community-release-el8-7.noarch.rpm</span></span>
<span class="line"><span style="color:#6F42C1;">yum</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-y</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql80-community-release-el8-7.noarch.rpm</span></span>
<span class="line"><span style="color:#6A737D;"># EL7</span></span>
<span class="line"><span style="color:#6F42C1;">wget</span><span style="color:#24292E;"> </span><span style="color:#032F62;">https://repo.mysql.com//mysql80-community-release-el7-9.noarch.rpm</span></span>
<span class="line"><span style="color:#6F42C1;">yum</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-y</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql80-community-release-el7-9.noarch.rpm</span></span>
<span class="line"><span style="color:#6A737D;">#</span></span>
<span class="line"><span style="color:#6A737D;"># 网易镜像</span></span>
<span class="line"><span style="color:#6A737D;">#</span></span>
<span class="line"><span style="color:#6A737D;"># EL9</span></span>
<span class="line"><span style="color:#6F42C1;">wget</span><span style="color:#24292E;"> </span><span style="color:#032F62;">https://mirrors.163.com/mysql/mysql80-community-release-el9.rpm</span></span>
<span class="line"><span style="color:#6F42C1;">rpm</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-ivh</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql80-community-release-el9.rpm</span></span>
<span class="line"><span style="color:#6A737D;"># EL8</span></span>
<span class="line"><span style="color:#6F42C1;">wget</span><span style="color:#24292E;"> </span><span style="color:#032F62;">https://mirrors.163.com/mysql/mysql80-community-release-el8.rpm</span></span>
<span class="line"><span style="color:#6F42C1;">rpm</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-ivh</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql80-community-release-el8.rpm</span></span>
<span class="line"><span style="color:#6A737D;"># EL7</span></span>
<span class="line"><span style="color:#6F42C1;">wget</span><span style="color:#24292E;"> </span><span style="color:#032F62;">https://mirrors.163.com/mysql/mysql80-community-release-el7.rpm</span></span>
<span class="line"><span style="color:#6F42C1;">rpm</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-ivh</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql80-community-release-el7.rpm</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>替换镜像</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">sed</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-i</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;s#http://repo.mysql.com/yum#https://mirrors.163.com/mysql/yum#g&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/etc/yum.repos.d/mysql-community.repo</span></span>
<span class="line"><span style="color:#B392F0;">sed</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-i</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;s#http://repo.mysql.com/yum#https://mirrors.163.com/mysql/yum#g&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/etc/yum.repos.d/mysql-community-source.repo</span></span>
<span class="line"><span style="color:#B392F0;">sed</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-i</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;s#http://repo.mysql.com/yum#https://mirrors.163.com/mysql/yum#g&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/etc/yum.repos.d/mysql-community-debuginfo.repo</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">sed</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-i</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;s#http://repo.mysql.com/yum#https://mirrors.163.com/mysql/yum#g&#39;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/etc/yum.repos.d/mysql-community.repo</span></span>
<span class="line"><span style="color:#6F42C1;">sed</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-i</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;s#http://repo.mysql.com/yum#https://mirrors.163.com/mysql/yum#g&#39;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/etc/yum.repos.d/mysql-community-source.repo</span></span>
<span class="line"><span style="color:#6F42C1;">sed</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-i</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;s#http://repo.mysql.com/yum#https://mirrors.163.com/mysql/yum#g&#39;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/etc/yum.repos.d/mysql-community-debuginfo.repo</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>禁用模块</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">yum</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">module</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">disable</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">yum</span><span style="color:#24292E;"> </span><span style="color:#032F62;">module</span><span style="color:#24292E;"> </span><span style="color:#032F62;">disable</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>安装</p><blockquote><p>如果要安装创新版，需要做下面配置，稳定版则无需执行</p></blockquote><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">yum-config-manager</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--disable</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql80-community</span></span>
<span class="line"><span style="color:#B392F0;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">yum-config-manager</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--disable</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql-tools-community</span></span>
<span class="line"><span style="color:#B392F0;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">yum-config-manager</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--enable</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql-innovation-community</span></span>
<span class="line"><span style="color:#B392F0;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">yum-config-manager</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--enable</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql-tools-innovation-community</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">yum-config-manager</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--disable</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql80-community</span></span>
<span class="line"><span style="color:#6F42C1;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">yum-config-manager</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--disable</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql-tools-community</span></span>
<span class="line"><span style="color:#6F42C1;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">yum-config-manager</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--enable</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql-innovation-community</span></span>
<span class="line"><span style="color:#6F42C1;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">yum-config-manager</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--enable</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql-tools-innovation-community</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>安装</p></blockquote><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">yum</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql-community-server</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">yum</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql-community-server</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="手工安装" tabindex="-1">手工安装 <a class="header-anchor" href="#手工安装" aria-label="Permalink to &quot;手工安装&quot;">​</a></h3><p>把下载回来的压缩包上传到服务器临时目录下，解压缩后逐一安装。</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 解压缩</span></span>
<span class="line"><span style="color:#B392F0;">tar</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">xvf</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql-8.1.0-1.el8.x86_64.rpm-bundle.tar</span></span>
<span class="line"><span style="color:#6A737D;"># 安装</span></span>
<span class="line"><span style="color:#B392F0;">yum</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-y</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql-community-common-8.1.0-1.el8.x86_64.rpm</span></span>
<span class="line"><span style="color:#B392F0;">yum</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-y</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql-community-client-plugins-8.1.0-1.el8.x86_64.rpm</span></span>
<span class="line"><span style="color:#B392F0;">yum</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-y</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql-community-libs-8.1.0-1.el8.x86_64.rpm</span></span>
<span class="line"><span style="color:#B392F0;">yum</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-y</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql-community-client-8.1.0-1.el8.x86_64.rpm</span></span>
<span class="line"><span style="color:#B392F0;">yum</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-y</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql-community-icu-data-files-8.1.0-1.el8.x86_64.rpm</span></span>
<span class="line"><span style="color:#B392F0;">yum</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-y</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql-community-server-8.1.0-1.el8.x86_64.rpm</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 解压缩</span></span>
<span class="line"><span style="color:#6F42C1;">tar</span><span style="color:#24292E;"> </span><span style="color:#032F62;">xvf</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql-8.1.0-1.el8.x86_64.rpm-bundle.tar</span></span>
<span class="line"><span style="color:#6A737D;"># 安装</span></span>
<span class="line"><span style="color:#6F42C1;">yum</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-y</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql-community-common-8.1.0-1.el8.x86_64.rpm</span></span>
<span class="line"><span style="color:#6F42C1;">yum</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-y</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql-community-client-plugins-8.1.0-1.el8.x86_64.rpm</span></span>
<span class="line"><span style="color:#6F42C1;">yum</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-y</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql-community-libs-8.1.0-1.el8.x86_64.rpm</span></span>
<span class="line"><span style="color:#6F42C1;">yum</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-y</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql-community-client-8.1.0-1.el8.x86_64.rpm</span></span>
<span class="line"><span style="color:#6F42C1;">yum</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-y</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql-community-icu-data-files-8.1.0-1.el8.x86_64.rpm</span></span>
<span class="line"><span style="color:#6F42C1;">yum</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-y</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql-community-server-8.1.0-1.el8.x86_64.rpm</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="安装目录" tabindex="-1">安装目录 <a class="header-anchor" href="#安装目录" aria-label="Permalink to &quot;安装目录&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">|---data                    --      </span></span>
<span class="line"><span style="color:#e1e4e8;">|---|---app                 -- 应用目录    </span></span>
<span class="line"><span style="color:#e1e4e8;">|---|---|---data            -- 数据目录    </span></span>
<span class="line"><span style="color:#e1e4e8;">|---|---|---|---mysql       -- MySQL</span></span>
<span class="line"><span style="color:#e1e4e8;">|---|---|---|---|---data    -- MySQL数据目录</span></span>
<span class="line"><span style="color:#e1e4e8;">|---|---|---|---|---logs    -- MySQL日志目录</span></span>
<span class="line"><span style="color:#e1e4e8;">|---|---|---temp            -- 临时目录</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">|---data                    --      </span></span>
<span class="line"><span style="color:#24292e;">|---|---app                 -- 应用目录    </span></span>
<span class="line"><span style="color:#24292e;">|---|---|---data            -- 数据目录    </span></span>
<span class="line"><span style="color:#24292e;">|---|---|---|---mysql       -- MySQL</span></span>
<span class="line"><span style="color:#24292e;">|---|---|---|---|---data    -- MySQL数据目录</span></span>
<span class="line"><span style="color:#24292e;">|---|---|---|---|---logs    -- MySQL日志目录</span></span>
<span class="line"><span style="color:#24292e;">|---|---|---temp            -- 临时目录</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="初始化" tabindex="-1">初始化 <a class="header-anchor" href="#初始化" aria-label="Permalink to &quot;初始化&quot;">​</a></h3><p>初始化数据目录并授权。</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 新建数据目录和日志目录 </span></span>
<span class="line"><span style="color:#B392F0;">mkdir</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/data/app/data/mysql/data</span></span>
<span class="line"><span style="color:#B392F0;">mkdir</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/data/app/data/mysql/logs</span></span>
<span class="line"><span style="color:#6A737D;"># 创建日志文件，这一步非必须</span></span>
<span class="line"><span style="color:#B392F0;">touch</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/data/app/data/mysql/logs/mysql.log</span></span>
<span class="line"><span style="color:#B392F0;">touch</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/data/app/data/mysql/logs/mysql-slow.log</span></span>
<span class="line"><span style="color:#6A737D;"># 赋予目录权限</span></span>
<span class="line"><span style="color:#B392F0;">chown</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-R</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql.mysql</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/data/app/data/mysql/</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 新建数据目录和日志目录 </span></span>
<span class="line"><span style="color:#6F42C1;">mkdir</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-p</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/data/app/data/mysql/data</span></span>
<span class="line"><span style="color:#6F42C1;">mkdir</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-p</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/data/app/data/mysql/logs</span></span>
<span class="line"><span style="color:#6A737D;"># 创建日志文件，这一步非必须</span></span>
<span class="line"><span style="color:#6F42C1;">touch</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/data/app/data/mysql/logs/mysql.log</span></span>
<span class="line"><span style="color:#6F42C1;">touch</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/data/app/data/mysql/logs/mysql-slow.log</span></span>
<span class="line"><span style="color:#6A737D;"># 赋予目录权限</span></span>
<span class="line"><span style="color:#6F42C1;">chown</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-R</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql.mysql</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/data/app/data/mysql/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>打开配置文件。</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">vi</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/etc/my.cnf</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">vi</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/etc/my.cnf</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>编辑内容如下</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">[mysqld]</span></span>
<span class="line"><span style="color:#6A737D;"># 端口</span></span>
<span class="line"><span style="color:#E1E4E8;">port</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">3306</span></span>
<span class="line"><span style="color:#6A737D;"># 安装目录和数据目录</span></span>
<span class="line"><span style="color:#6A737D;"># basedir=/data/app/tools/mysql/server</span></span>
<span class="line"><span style="color:#E1E4E8;">datadir</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">/data/app/data/mysql/data</span></span>
<span class="line"><span style="color:#6A737D;"># 表名不区分大小写</span></span>
<span class="line"><span style="color:#E1E4E8;">lower_case_table_names</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#6A737D;"># 编码</span></span>
<span class="line"><span style="color:#E1E4E8;">character-set-server</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">utf8mb4</span></span>
<span class="line"><span style="color:#6A737D;"># 字符集</span></span>
<span class="line"><span style="color:#E1E4E8;">collation-server</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">utf8mb4_0900_ai_ci</span></span>
<span class="line"><span style="color:#6A737D;"># 指定时区</span></span>
<span class="line"><span style="color:#E1E4E8;">default-time-zone</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;+8:00&#39;</span></span>
<span class="line"><span style="color:#6A737D;"># 最大连接数</span></span>
<span class="line"><span style="color:#E1E4E8;">max_connections</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">128</span></span>
<span class="line"><span style="color:#6A737D;"># 错误日志</span></span>
<span class="line"><span style="color:#E1E4E8;">log-error</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">/data/app/data/mysql/logs/mysql.log</span></span>
<span class="line"><span style="color:#6A737D;"># 慢查询</span></span>
<span class="line"><span style="color:#6A737D;"># 开启慢查询日志</span></span>
<span class="line"><span style="color:#E1E4E8;">slow-query-log</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">on</span></span>
<span class="line"><span style="color:#6A737D;"># 慢查询日志路径</span></span>
<span class="line"><span style="color:#E1E4E8;">slow_query_log_file</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">/data/app/data/mysql/logs/mysql-slow.log</span></span>
<span class="line"><span style="color:#6A737D;"># 修改为记录5秒内的查询，默认为记录10秒内的查询</span></span>
<span class="line"><span style="color:#E1E4E8;">long_query_time</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">5</span></span>
<span class="line"><span style="color:#6A737D;"># 记录未使用索引的查询</span></span>
<span class="line"><span style="color:#E1E4E8;">log-queries-not-using-indexes</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">on</span></span>
<span class="line"><span style="color:#E1E4E8;">[mysqldump]</span></span>
<span class="line"><span style="color:#E1E4E8;">max_allowed_packet</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">8</span><span style="color:#9ECBFF;">M</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">[mysqld]</span></span>
<span class="line"><span style="color:#6A737D;"># 端口</span></span>
<span class="line"><span style="color:#24292E;">port</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">3306</span></span>
<span class="line"><span style="color:#6A737D;"># 安装目录和数据目录</span></span>
<span class="line"><span style="color:#6A737D;"># basedir=/data/app/tools/mysql/server</span></span>
<span class="line"><span style="color:#24292E;">datadir</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">/data/app/data/mysql/data</span></span>
<span class="line"><span style="color:#6A737D;"># 表名不区分大小写</span></span>
<span class="line"><span style="color:#24292E;">lower_case_table_names</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#6A737D;"># 编码</span></span>
<span class="line"><span style="color:#24292E;">character-set-server</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">utf8mb4</span></span>
<span class="line"><span style="color:#6A737D;"># 字符集</span></span>
<span class="line"><span style="color:#24292E;">collation-server</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">utf8mb4_0900_ai_ci</span></span>
<span class="line"><span style="color:#6A737D;"># 指定时区</span></span>
<span class="line"><span style="color:#24292E;">default-time-zone</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;+8:00&#39;</span></span>
<span class="line"><span style="color:#6A737D;"># 最大连接数</span></span>
<span class="line"><span style="color:#24292E;">max_connections</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">128</span></span>
<span class="line"><span style="color:#6A737D;"># 错误日志</span></span>
<span class="line"><span style="color:#24292E;">log-error</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">/data/app/data/mysql/logs/mysql.log</span></span>
<span class="line"><span style="color:#6A737D;"># 慢查询</span></span>
<span class="line"><span style="color:#6A737D;"># 开启慢查询日志</span></span>
<span class="line"><span style="color:#24292E;">slow-query-log</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">on</span></span>
<span class="line"><span style="color:#6A737D;"># 慢查询日志路径</span></span>
<span class="line"><span style="color:#24292E;">slow_query_log_file</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">/data/app/data/mysql/logs/mysql-slow.log</span></span>
<span class="line"><span style="color:#6A737D;"># 修改为记录5秒内的查询，默认为记录10秒内的查询</span></span>
<span class="line"><span style="color:#24292E;">long_query_time</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">5</span></span>
<span class="line"><span style="color:#6A737D;"># 记录未使用索引的查询</span></span>
<span class="line"><span style="color:#24292E;">log-queries-not-using-indexes</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">on</span></span>
<span class="line"><span style="color:#24292E;">[mysqldump]</span></span>
<span class="line"><span style="color:#24292E;">max_allowed_packet</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">8</span><span style="color:#032F62;">M</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>启动服务</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 随系统启动</span></span>
<span class="line"><span style="color:#B392F0;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">systemctl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">enable</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysqld.service</span></span>
<span class="line"><span style="color:#6A737D;"># 启动服务</span></span>
<span class="line"><span style="color:#B392F0;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">systemctl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">start</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysqld.service</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 随系统启动</span></span>
<span class="line"><span style="color:#6F42C1;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">systemctl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">enable</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysqld.service</span></span>
<span class="line"><span style="color:#6A737D;"># 启动服务</span></span>
<span class="line"><span style="color:#6F42C1;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">systemctl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysqld.service</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>修改默认密码</p><blockquote><p>数据库启动初始化完成后，会生成一个临时的密码保存在/var/log/mysqld.log的日志文件里面。 所以第一次登录时需要查到这个临时密码，并使用临时密码登录后修改初始密码。</p></blockquote><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 自定义目录，按上面配置文件，需要从这里查找初始密码</span></span>
<span class="line"><span style="color:#B392F0;">grep</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;temporary password&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/data/app/data/mysql/logs/mysql.log</span></span>
<span class="line"><span style="color:#6A737D;"># 默认目录</span></span>
<span class="line"><span style="color:#B392F0;">grep</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;temporary password&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/var/log/mysqld.log</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 自定义目录，按上面配置文件，需要从这里查找初始密码</span></span>
<span class="line"><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;temporary password&#39;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/data/app/data/mysql/logs/mysql.log</span></span>
<span class="line"><span style="color:#6A737D;"># 默认目录</span></span>
<span class="line"><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;temporary password&#39;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/var/log/mysqld.log</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="windows" tabindex="-1">Windows <a class="header-anchor" href="#windows" aria-label="Permalink to &quot;Windows&quot;">​</a></h2><p>安装目录</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">|</span><span style="color:#B392F0;">---D</span><span style="color:#E1E4E8;">                       </span><span style="color:#79B8FF;">--</span><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#F97583;">|</span><span style="color:#B392F0;">---</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">---Tools</span><span style="color:#E1E4E8;">               </span><span style="color:#79B8FF;">--</span><span style="color:#E1E4E8;">  </span></span>
<span class="line"><span style="color:#F97583;">|</span><span style="color:#B392F0;">---</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">---</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">---MySQL</span><span style="color:#E1E4E8;">           </span><span style="color:#79B8FF;">--</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MySQL目录</span></span>
<span class="line"><span style="color:#F97583;">|</span><span style="color:#B392F0;">---</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">---</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">---</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">---Server</span><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">--</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MySQL安装目录</span></span>
<span class="line"><span style="color:#F97583;">|</span><span style="color:#B392F0;">---</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">---</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">---</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">---Data</span><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">--</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MySQL数据目录</span></span>
<span class="line"><span style="color:#F97583;">|</span><span style="color:#B392F0;">---</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">---</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">---</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">---Logs</span><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">--</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MySQL日志目录</span></span>
<span class="line"><span style="color:#F97583;">|</span><span style="color:#B392F0;">---</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">---</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">---</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">---my.ini</span><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">--</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">配置文件</span></span>
<span class="line"><span style="color:#F97583;">|</span><span style="color:#B392F0;">---</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">---</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">---temp</span><span style="color:#E1E4E8;">            </span><span style="color:#79B8FF;">--</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">临时目录</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">---D</span><span style="color:#24292E;">                       </span><span style="color:#005CC5;">--</span><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">---</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">---Tools</span><span style="color:#24292E;">               </span><span style="color:#005CC5;">--</span><span style="color:#24292E;">  </span></span>
<span class="line"><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">---</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">---</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">---MySQL</span><span style="color:#24292E;">           </span><span style="color:#005CC5;">--</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MySQL目录</span></span>
<span class="line"><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">---</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">---</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">---</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">---Server</span><span style="color:#24292E;">      </span><span style="color:#005CC5;">--</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MySQL安装目录</span></span>
<span class="line"><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">---</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">---</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">---</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">---Data</span><span style="color:#24292E;">        </span><span style="color:#005CC5;">--</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MySQL数据目录</span></span>
<span class="line"><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">---</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">---</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">---</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">---Logs</span><span style="color:#24292E;">        </span><span style="color:#005CC5;">--</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MySQL日志目录</span></span>
<span class="line"><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">---</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">---</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">---</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">---my.ini</span><span style="color:#24292E;">      </span><span style="color:#005CC5;">--</span><span style="color:#24292E;"> </span><span style="color:#032F62;">配置文件</span></span>
<span class="line"><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">---</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">---</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">---temp</span><span style="color:#24292E;">            </span><span style="color:#005CC5;">--</span><span style="color:#24292E;"> </span><span style="color:#032F62;">临时目录</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>把绿色安装包解压缩到安装目录下，新建配置文件，内容参考如下</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">[mysqld]</span></span>
<span class="line"><span style="color:#6A737D;"># 端口</span></span>
<span class="line"><span style="color:#E1E4E8;">port</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">3306</span></span>
<span class="line"><span style="color:#6A737D;"># 安装目录和数据目录</span></span>
<span class="line"><span style="color:#E1E4E8;">basedir</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">D:</span><span style="color:#79B8FF;">\\T</span><span style="color:#9ECBFF;">ools</span><span style="color:#79B8FF;">\\M</span><span style="color:#9ECBFF;">ySQL</span><span style="color:#79B8FF;">\\S</span><span style="color:#9ECBFF;">erver</span></span>
<span class="line"><span style="color:#E1E4E8;">datadir</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">D:</span><span style="color:#79B8FF;">\\T</span><span style="color:#9ECBFF;">ools</span><span style="color:#79B8FF;">\\M</span><span style="color:#9ECBFF;">ySQL</span><span style="color:#79B8FF;">\\D</span><span style="color:#9ECBFF;">ata</span></span>
<span class="line"><span style="color:#6A737D;"># 表名不区分大小写</span></span>
<span class="line"><span style="color:#E1E4E8;">lower_case_table_names</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#6A737D;"># 编码</span></span>
<span class="line"><span style="color:#E1E4E8;">character-set-server</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">utf8mb4</span></span>
<span class="line"><span style="color:#6A737D;"># 字符集</span></span>
<span class="line"><span style="color:#E1E4E8;">collation-server</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">utf8mb4_0900_ai_ci</span></span>
<span class="line"><span style="color:#6A737D;"># 指定时区</span></span>
<span class="line"><span style="color:#E1E4E8;">default-time-zone</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;+8:00&#39;</span></span>
<span class="line"><span style="color:#6A737D;"># 启用传统密码策略认证</span></span>
<span class="line"><span style="color:#E1E4E8;">default_authentication_plugin</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">mysql_native_password</span></span>
<span class="line"><span style="color:#6A737D;"># 错误日志</span></span>
<span class="line"><span style="color:#E1E4E8;">log-error</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">D:</span><span style="color:#79B8FF;">\\T</span><span style="color:#9ECBFF;">ools</span><span style="color:#79B8FF;">\\M</span><span style="color:#9ECBFF;">ySQL</span><span style="color:#79B8FF;">\\L</span><span style="color:#9ECBFF;">ogs</span><span style="color:#79B8FF;">\\m</span><span style="color:#9ECBFF;">ysql.log</span></span>
<span class="line"><span style="color:#6A737D;"># 慢查询</span></span>
<span class="line"><span style="color:#6A737D;"># 开启慢查询日志</span></span>
<span class="line"><span style="color:#E1E4E8;">slow-query-log</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">on</span></span>
<span class="line"><span style="color:#6A737D;"># 慢查询日志路径</span></span>
<span class="line"><span style="color:#E1E4E8;">slow_query_log_file</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">D:</span><span style="color:#79B8FF;">\\T</span><span style="color:#9ECBFF;">ools</span><span style="color:#79B8FF;">\\M</span><span style="color:#9ECBFF;">ySQL</span><span style="color:#79B8FF;">\\L</span><span style="color:#9ECBFF;">ogs</span><span style="color:#79B8FF;">\\m</span><span style="color:#9ECBFF;">ysql-slow.log</span></span>
<span class="line"><span style="color:#6A737D;"># 修改为记录5秒内的查询，默认为记录10秒内的查询</span></span>
<span class="line"><span style="color:#E1E4E8;">long_query_time</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">5</span></span>
<span class="line"><span style="color:#6A737D;"># 记录未使用索引的查询</span></span>
<span class="line"><span style="color:#E1E4E8;">log-queries-not-using-indexes</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">on</span></span>
<span class="line"><span style="color:#E1E4E8;">[mysqldump]</span></span>
<span class="line"><span style="color:#E1E4E8;">max_allowed_packet</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">8</span><span style="color:#9ECBFF;">M</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">[mysqld]</span></span>
<span class="line"><span style="color:#6A737D;"># 端口</span></span>
<span class="line"><span style="color:#24292E;">port</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">3306</span></span>
<span class="line"><span style="color:#6A737D;"># 安装目录和数据目录</span></span>
<span class="line"><span style="color:#24292E;">basedir</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">D:</span><span style="color:#005CC5;">\\T</span><span style="color:#032F62;">ools</span><span style="color:#005CC5;">\\M</span><span style="color:#032F62;">ySQL</span><span style="color:#005CC5;">\\S</span><span style="color:#032F62;">erver</span></span>
<span class="line"><span style="color:#24292E;">datadir</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">D:</span><span style="color:#005CC5;">\\T</span><span style="color:#032F62;">ools</span><span style="color:#005CC5;">\\M</span><span style="color:#032F62;">ySQL</span><span style="color:#005CC5;">\\D</span><span style="color:#032F62;">ata</span></span>
<span class="line"><span style="color:#6A737D;"># 表名不区分大小写</span></span>
<span class="line"><span style="color:#24292E;">lower_case_table_names</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#6A737D;"># 编码</span></span>
<span class="line"><span style="color:#24292E;">character-set-server</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">utf8mb4</span></span>
<span class="line"><span style="color:#6A737D;"># 字符集</span></span>
<span class="line"><span style="color:#24292E;">collation-server</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">utf8mb4_0900_ai_ci</span></span>
<span class="line"><span style="color:#6A737D;"># 指定时区</span></span>
<span class="line"><span style="color:#24292E;">default-time-zone</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;+8:00&#39;</span></span>
<span class="line"><span style="color:#6A737D;"># 启用传统密码策略认证</span></span>
<span class="line"><span style="color:#24292E;">default_authentication_plugin</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">mysql_native_password</span></span>
<span class="line"><span style="color:#6A737D;"># 错误日志</span></span>
<span class="line"><span style="color:#24292E;">log-error</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">D:</span><span style="color:#005CC5;">\\T</span><span style="color:#032F62;">ools</span><span style="color:#005CC5;">\\M</span><span style="color:#032F62;">ySQL</span><span style="color:#005CC5;">\\L</span><span style="color:#032F62;">ogs</span><span style="color:#005CC5;">\\m</span><span style="color:#032F62;">ysql.log</span></span>
<span class="line"><span style="color:#6A737D;"># 慢查询</span></span>
<span class="line"><span style="color:#6A737D;"># 开启慢查询日志</span></span>
<span class="line"><span style="color:#24292E;">slow-query-log</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">on</span></span>
<span class="line"><span style="color:#6A737D;"># 慢查询日志路径</span></span>
<span class="line"><span style="color:#24292E;">slow_query_log_file</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">D:</span><span style="color:#005CC5;">\\T</span><span style="color:#032F62;">ools</span><span style="color:#005CC5;">\\M</span><span style="color:#032F62;">ySQL</span><span style="color:#005CC5;">\\L</span><span style="color:#032F62;">ogs</span><span style="color:#005CC5;">\\m</span><span style="color:#032F62;">ysql-slow.log</span></span>
<span class="line"><span style="color:#6A737D;"># 修改为记录5秒内的查询，默认为记录10秒内的查询</span></span>
<span class="line"><span style="color:#24292E;">long_query_time</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">5</span></span>
<span class="line"><span style="color:#6A737D;"># 记录未使用索引的查询</span></span>
<span class="line"><span style="color:#24292E;">log-queries-not-using-indexes</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">on</span></span>
<span class="line"><span style="color:#24292E;">[mysqldump]</span></span>
<span class="line"><span style="color:#24292E;">max_allowed_packet</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">8</span><span style="color:#032F62;">M</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>执行下面命令完成安装和系统服务配置</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 初始化数据库</span></span>
<span class="line"><span style="color:#B392F0;">mysqld</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--initialize-insecure</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--datadir=D:\\Tools\\MySQL\\Data</span></span>
<span class="line"><span style="color:#6A737D;"># 安装系统服务</span></span>
<span class="line"><span style="color:#B392F0;">mysqld</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MySQL</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--defaults-file=D:\\Tools\\MySQL\\my.ini</span></span>
<span class="line"><span style="color:#6A737D;"># 手工启动服务</span></span>
<span class="line"><span style="color:#B392F0;">mysqld</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--defaults-file=D:\\Tools\\MySQL\\my.ini</span></span>
<span class="line"><span style="color:#6A737D;"># 移除系统服务</span></span>
<span class="line"><span style="color:#B392F0;">mysqld</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">–remove</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MySQL</span></span>
<span class="line"><span style="color:#6A737D;"># 启动</span></span>
<span class="line"><span style="color:#B392F0;">net</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">start</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MySQL</span></span>
<span class="line"><span style="color:#6A737D;"># 停止</span></span>
<span class="line"><span style="color:#B392F0;">net</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">stop</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MySQL</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 初始化数据库</span></span>
<span class="line"><span style="color:#6F42C1;">mysqld</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--initialize-insecure</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--datadir=D:\\Tools\\MySQL\\Data</span></span>
<span class="line"><span style="color:#6A737D;"># 安装系统服务</span></span>
<span class="line"><span style="color:#6F42C1;">mysqld</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MySQL</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--defaults-file=D:\\Tools\\MySQL\\my.ini</span></span>
<span class="line"><span style="color:#6A737D;"># 手工启动服务</span></span>
<span class="line"><span style="color:#6F42C1;">mysqld</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--defaults-file=D:\\Tools\\MySQL\\my.ini</span></span>
<span class="line"><span style="color:#6A737D;"># 移除系统服务</span></span>
<span class="line"><span style="color:#6F42C1;">mysqld</span><span style="color:#24292E;"> </span><span style="color:#032F62;">–remove</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MySQL</span></span>
<span class="line"><span style="color:#6A737D;"># 启动</span></span>
<span class="line"><span style="color:#6F42C1;">net</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MySQL</span></span>
<span class="line"><span style="color:#6A737D;"># 停止</span></span>
<span class="line"><span style="color:#6F42C1;">net</span><span style="color:#24292E;"> </span><span style="color:#032F62;">stop</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MySQL</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>服务启动后，可以直接连，默认账号密码为空，这点跟RHEL有区别。</p><h2 id="macos" tabindex="-1">MacOS <a class="header-anchor" href="#macos" aria-label="Permalink to &quot;MacOS&quot;">​</a></h2>`,40),e=[o];function c(r,t,y,i,E,m){return n(),a("div",null,e)}const b=s(p,[["render",c]]);export{u as __pageData,b as default};
