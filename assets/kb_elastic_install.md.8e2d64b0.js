import{_ as s,o as a,c as n,U as l}from"./chunks/framework.587922bd.js";const d=JSON.parse('{"title":"安装部署","description":"","frontmatter":{},"headers":[],"relativePath":"kb/elastic/install.md","filePath":"kb/elastic/install.md","lastUpdated":1689254161000}'),e={name:"kb/elastic/install.md"},p=l(`<h1 id="安装部署" tabindex="-1">安装部署 <a class="header-anchor" href="#安装部署" aria-label="Permalink to &quot;安装部署&quot;">​</a></h1><h2 id="插件" tabindex="-1">插件 <a class="header-anchor" href="#插件" aria-label="Permalink to &quot;插件&quot;">​</a></h2><h3 id="分词插件" tabindex="-1">分词插件 <a class="header-anchor" href="#分词插件" aria-label="Permalink to &quot;分词插件&quot;">​</a></h3><blockquote><p>官方版本发布会有延迟，如果版本一致，修改插件配置文件即可，一般都可以正常使用。</p></blockquote><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 官网</span></span>
<span class="line"><span style="color:#FFCB6B;">https://github.com/medcl/elasticsearch-analysis-ik</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 8.x</span></span>
<span class="line"><span style="color:#FFCB6B;">https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v8.8.2/elasticsearch-analysis-ik-8.8.2.zip</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 7.x</span></span>
<span class="line"><span style="color:#FFCB6B;">https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v7.17.7/elasticsearch-analysis-ik-7.17.7.zip</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="rhel" tabindex="-1">RHEL <a class="header-anchor" href="#rhel" aria-label="Permalink to &quot;RHEL&quot;">​</a></h2><p>安装目录</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">|---data                                    --     </span></span>
<span class="line"><span style="color:#A6ACCD;">|---|---app                                 -- 应用目录    </span></span>
<span class="line"><span style="color:#A6ACCD;">|---|---|---data                            -- 数据目录</span></span>
<span class="line"><span style="color:#A6ACCD;">|---|---|---|---elasticsearch               -- ElasticSearch</span></span>
<span class="line"><span style="color:#A6ACCD;">|---|---|---|---|---data                    -- ElasticSearch数据目录</span></span>
<span class="line"><span style="color:#A6ACCD;">|---|---|---|---|---logs                    -- ElasticSearch日志目录 </span></span>
<span class="line"><span style="color:#A6ACCD;">|---|---|---temp                            -- 临时目录</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 安装</span></span>
<span class="line"><span style="color:#FFCB6B;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-y</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">elasticsearch-7.17.7-x86_64.rpm</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="初始化数据目录并授权" tabindex="-1">初始化数据目录并授权 <a class="header-anchor" href="#初始化数据目录并授权" aria-label="Permalink to &quot;初始化数据目录并授权&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 新建数据目录和日志目录 </span></span>
<span class="line"><span style="color:#FFCB6B;">mkdir</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/data/app/data/elasticsearch/data</span></span>
<span class="line"><span style="color:#FFCB6B;">mkdir</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/data/app/data/elasticsearch/logs</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 赋予目录权限</span></span>
<span class="line"><span style="color:#FFCB6B;">chown</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-R</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">elasticsearch.elasticsearch</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/data/app/data/elasticsearch/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="编辑配置文件" tabindex="-1">编辑配置文件 <a class="header-anchor" href="#编辑配置文件" aria-label="Permalink to &quot;编辑配置文件&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">vi</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/elasticsearch/elasticsearch.yml</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>内容参考如下</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># ----------------------------------------------------------------------------------------</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Elasticsearch Configuration</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># https://www.elastic.co/guide/en/elasticsearch/reference/index.html</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># ----------------------------------------------------------------------------------------</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 集群名称</span></span>
<span class="line"><span style="color:#FFCB6B;">cluster.name:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">elasticsearch</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 节点名称</span></span>
<span class="line"><span style="color:#FFCB6B;">node.name:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">main</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 数据目录</span></span>
<span class="line"><span style="color:#FFCB6B;">path.data:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/data/app/data/elasticsearch/data</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 日志目录</span></span>
<span class="line"><span style="color:#FFCB6B;">path.logs:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/data/app/data/elasticsearch/logs</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 绑定IP地址</span></span>
<span class="line"><span style="color:#FFCB6B;">network.host:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">127.0</span><span style="color:#C3E88D;">.0.1</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 安全控制</span></span>
<span class="line"><span style="color:#FFCB6B;">xpack.security.enabled:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true</span></span>
<span class="line"><span style="color:#FFCB6B;">xpack.security.transport.ssl.enabled:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">false</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Cluster</span></span>
<span class="line"><span style="color:#FFCB6B;">discovery.type:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">single-node</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="安装分词插件" tabindex="-1">安装分词插件 <a class="header-anchor" href="#安装分词插件" aria-label="Permalink to &quot;安装分词插件&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">unzip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">elasticsearch-analysis-ik-8.7.0.zip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/share/elasticsearch/plugins/ik</span></span>
<span class="line"><span style="color:#FFCB6B;">unzip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">elasticsearch-analysis-ik-7.17.7.zip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/share/elasticsearch/plugins/ik</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="修改内存配置" tabindex="-1">修改内存配置 <a class="header-anchor" href="#修改内存配置" aria-label="Permalink to &quot;修改内存配置&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 打开编辑配置文件</span></span>
<span class="line"><span style="color:#FFCB6B;">vi</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/elasticsearch/jvm.options</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>配置参考如下</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">-Xms2g</span></span>
<span class="line"><span style="color:#FFCB6B;">-Xmx2g</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="系统服务" tabindex="-1">系统服务 <a class="header-anchor" href="#系统服务" aria-label="Permalink to &quot;系统服务&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 随系统启动</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">systemctl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">enable</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">elasticsearch.service</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 启动服务</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">systemctl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">elasticsearch.service</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="添加用户" tabindex="-1">添加用户 <a class="header-anchor" href="#添加用户" aria-label="Permalink to &quot;添加用户&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">/usr/share/elasticsearch/bin/elasticsearch-setup-passwords</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">interactive</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="测试是否安装成功" tabindex="-1">测试是否安装成功 <a class="header-anchor" href="#测试是否安装成功" aria-label="Permalink to &quot;测试是否安装成功&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 没开启安全认证</span></span>
<span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-XGET</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">127.0.0.1:9200</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 已开启安全认证</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="macos" tabindex="-1">MacOS <a class="header-anchor" href="#macos" aria-label="Permalink to &quot;MacOS&quot;">​</a></h2><blockquote><p>最新版本已经不支持HomeBrew直接安装，所以使用手工安装的方式。</p></blockquote><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 准备安装目录</span></span>
<span class="line"><span style="color:#FFCB6B;">rm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-rf</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/Users/elvea/Tools/elastic/elasticsearch</span></span>
<span class="line"><span style="color:#FFCB6B;">rm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-rf</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/Users/elvea/Tools/elastic/data/elasticsearch</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#</span></span>
<span class="line"><span style="color:#FFCB6B;">mkdir</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/Users/elvea/Tools/elastic/elasticsearch</span></span>
<span class="line"><span style="color:#FFCB6B;">mkdir</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/Users/elvea/Tools/elastic/data/elasticsearch/data</span></span>
<span class="line"><span style="color:#FFCB6B;">mkdir</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/Users/elvea/Tools/elastic/data/elasticsearch/logs</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 解压缩</span></span>
<span class="line"><span style="color:#FFCB6B;">tar</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">zxvf</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">elasticsearch-8.8.2-darwin-aarch64.tar.gz</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 复制到目标安装目录</span></span>
<span class="line"><span style="color:#FFCB6B;">mv</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">elasticsearch-8.8.2/</span><span style="color:#A6ACCD;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/Users/elvea/Tools/elastic/elasticsearch</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 安装分词插件</span></span>
<span class="line"><span style="color:#FFCB6B;">unzip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">elasticsearch-analysis-ik-8.8.2.zip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/Users/elvea/Tools/elastic/elasticsearch/plugins/ik</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="配置分词插件" tabindex="-1">配置分词插件 <a class="header-anchor" href="#配置分词插件" aria-label="Permalink to &quot;配置分词插件&quot;">​</a></h3><blockquote><p>这一步非必须，只有当插件版本跟安装版本不一致的情况，才需要修改。</p></blockquote><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">vi</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/Users/elvea/Tools/elastic/elasticsearch/plugins/ik/plugin-descriptor.properties</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>版本号跟实际安装的版本指定</p><div class="language-properties line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">properties</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F07178;">version</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">8.8.2</span></span>
<span class="line"><span style="color:#F07178;">elasticsearch.version</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">8.8.2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="编辑配置文件-1" tabindex="-1">编辑配置文件 <a class="header-anchor" href="#编辑配置文件-1" aria-label="Permalink to &quot;编辑配置文件&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">vi</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/Users/elvea/Tools/elastic/elasticsearch/config/elasticsearch.yml</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>内容参考如下</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># ----------------------------------------------------------------------------------------</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Elasticsearch Configuration</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># ----------------------------------------------------------------------------------------</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 集群名称</span></span>
<span class="line"><span style="color:#F07178;">cluster.name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">es</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 节点名称</span></span>
<span class="line"><span style="color:#F07178;">node.name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">main</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 数据目录</span></span>
<span class="line"><span style="color:#F07178;">path.data</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/Users/elvea/Tools/elastic/data/elasticsearch/data</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 日志目录</span></span>
<span class="line"><span style="color:#F07178;">path.logs</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/Users/elvea/Tools/elastic/data/elasticsearch/logs</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 绑定IP地址</span></span>
<span class="line"><span style="color:#F07178;">network.host</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">127.0.0.1</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 安全控制</span></span>
<span class="line"><span style="color:#F07178;">xpack.security.enabled</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#F07178;">xpack.security.transport.ssl.enabled</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Cluster</span></span>
<span class="line"><span style="color:#F07178;">discovery.type</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">single-node</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="修改内存配置-1" tabindex="-1">修改内存配置 <a class="header-anchor" href="#修改内存配置-1" aria-label="Permalink to &quot;修改内存配置&quot;">​</a></h3><blockquote><p>默认内存占用太高</p></blockquote><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">vi</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/Users/elvea/Tools/elastic/elasticsearch/config/jvm.options</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>参考如下</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">-Xms1g</span></span>
<span class="line"><span style="color:#FFCB6B;">-Xmx1g</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="测试启动" tabindex="-1">测试启动 <a class="header-anchor" href="#测试启动" aria-label="Permalink to &quot;测试启动&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/Users/elvea/Tools/elastic/elasticsearch/bin</span></span>
<span class="line"><span style="color:#FFCB6B;">elasticsearch</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="添加用户-1" tabindex="-1">添加用户 <a class="header-anchor" href="#添加用户-1" aria-label="Permalink to &quot;添加用户&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/Users/elvea/Tools/elastic/elasticsearch/bin</span></span>
<span class="line"><span style="color:#FFCB6B;">elasticsearch-setup-passwords</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">interactive</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="系统服务-1" tabindex="-1">系统服务 <a class="header-anchor" href="#系统服务-1" aria-label="Permalink to &quot;系统服务&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">vim</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/Library/LaunchAgents/elasticsearch.plist</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>内容参考如下</p></blockquote><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;?</span><span style="color:#A6ACCD;">xml version=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1.0</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> encoding=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">UTF-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">?&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;!</span><span style="color:#FFCB6B;">DOCTYPE</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">plist</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PUBLIC</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">-//Apple//DTD PLIST 1.0//EN</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://www.apple.com/DTDs/PropertyList-1.0.dtd</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">plist version=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1.0</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">dict&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">key&gt;Label&lt;/key&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">string&gt;elasticsearch&lt;/string&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">key&gt;ProgramArguments&lt;/key&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">array&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">string&gt;/Users/elvea/Tools/elastic/elasticsearch/bin/elasticsearch&lt;/string&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">/array&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">key&gt;RunAtLoad&lt;/key&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">true/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">key&gt;KeepAlive&lt;/key&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">true/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">key&gt;WorkingDirectory&lt;/key&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">string&gt;/Users/elvea/Tools/elastic/elasticsearch&lt;/string&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">key&gt;StandardErrorPath&lt;/key&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">string&gt;/Users/elvea/Tools/elastic/elasticsearch-logs/elasticsearch-error.log&lt;/string&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">key&gt;StandardOutPath&lt;/key&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">string&gt;/Users/elvea/Tools/elastic/elasticsearch-logs/elasticsearch-out.log&lt;/string&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">key&gt;UserName&lt;/key&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">string&gt;elvea&lt;/string&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">key&gt;HardResourceLimits&lt;/key&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">dict&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">key&gt;NumberOfFiles&lt;/key&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">integer&gt;10240&lt;/integer&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">/dict&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">key&gt;SoftResourceLimits&lt;/key&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">dict&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">key&gt;NumberOfFiles&lt;/key&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">integer&gt;10240&lt;/integer&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">/dict&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">/dict&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">/plist</span><span style="color:#89DDFF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p>操作</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 验证配置文件</span></span>
<span class="line"><span style="color:#FFCB6B;">plutil</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-lint</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/Library/LaunchAgents/elasticsearch.plist</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 添加开机启动并立刻启动</span></span>
<span class="line"><span style="color:#FFCB6B;">launchctl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">load</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-w</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/Library/LaunchAgents/elasticsearch.plist</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 取消开机启动并立刻停止 </span></span>
<span class="line"><span style="color:#FFCB6B;">launchctl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">unload</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-w</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/Library/LaunchAgents/elasticsearch.plist</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="windows" tabindex="-1">Windows <a class="header-anchor" href="#windows" aria-label="Permalink to &quot;Windows&quot;">​</a></h2><p>安装目录</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">---D</span><span style="color:#A6ACCD;">                                       </span></span>
<span class="line"><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">---</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">---Tools</span><span style="color:#A6ACCD;">                               </span><span style="color:#C3E88D;">--</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">---</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">---</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">---elastic</span><span style="color:#A6ACCD;">                         </span><span style="color:#C3E88D;">--</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">---</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">---</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">---</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">---elasticsearch</span><span style="color:#A6ACCD;">               </span><span style="color:#C3E88D;">--</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ElasticSearch安装目录</span><span style="color:#A6ACCD;">     </span></span>
<span class="line"><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">---</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">---</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">---data</span><span style="color:#A6ACCD;">                            </span><span style="color:#C3E88D;">--</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">---</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">---</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">---</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">---elasticsearch</span><span style="color:#A6ACCD;">               </span><span style="color:#C3E88D;">--</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">---</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">---</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">---</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">---</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">---data</span><span style="color:#A6ACCD;">                    </span><span style="color:#C3E88D;">--</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ElasticSearch数据目录</span></span>
<span class="line"><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">---</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">---</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">---</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">---</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">---logs</span><span style="color:#A6ACCD;">                    </span><span style="color:#C3E88D;">--</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ElasticSearch日志目录</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="docker" tabindex="-1">Docker <a class="header-anchor" href="#docker" aria-label="Permalink to &quot;Docker&quot;">​</a></h2><blockquote><p>待补充</p></blockquote>`,60),o=[p];function t(r,c,i,y,C,b){return a(),n("div",null,o)}const u=s(e,[["render",t]]);export{d as __pageData,u as default};
